

<!-- Include this script tag or install `@tailwindplus/elements` via npm: -->
<!-- <script src="https://cdn.jsdelivr.net/npm/@tailwindplus/elements@1" type="module"></script> -->
<div class="relative flex grow flex-col gap-y-5 overflow-y-auto border-r border-gray-200 bg-white px-6">
  <nav class="relative flex flex-1 flex-col">
    <ul role="list" class="flex flex-1 flex-col gap-y-7">
      <li>
        <ul role="list" class="-mx-2 space-y-1">
          <% @topic.articles.each do |article| %>
            <li>
<!--
  Article 1
    section1
    section2
    section3
  Article 2
  Article 3
-->
              <% if article.sections.present? %>
                <button type="button" command="--toggle" commandfor='sub-menu-<%= article.id%>' class="flex w-full items-center gap-x-3 rounded-md p-2 text-left text-sm/6 font-semibold text-gray-700 hover:bg-gray-50">
                  <svg viewBox="0 0 20 20" fill="currentColor" data-slot="icon" aria-hidden="true" class="size-5 shrink-0 not-in-aria-expanded:text-gray-400 in-aria-expanded:rotate-90 in-aria-expanded:text-gray-500">
                    <path d="M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" fill-rule="evenodd" />
                  </svg>
                  <%= article.title  %>
                </button>
                <ul>
                    <el-disclosure id="sub-menu-<%= article.id%>" hidden class="contents">
                    <ul class="mt-1 px-2 list-disc list-inside">
                  <% article.sections.order(:position).each do |section| %>
                      <li>
                        <%= link_to section.heading, topic_article_section_path(@topic, article, section), data: { turbo_frame: "article_frame" } %>
                      </li>
                      </li>
                  <% end %>
                    </ul>
                  </el-disclosure>
                </ul>
              <% else %>
                <%= link_to article.title, topic_article_path(@topic, article), data: { turbo_frame: "article_frame" }, class: "flex w-full items-center gap-x-3 rounded-md p-2 text-left text-sm/6 font-semibold text-gray-700 hover:bg-gray-50" %>
              <% end %>
            </li>
          <% end %>

        </ul>
      </li>

    </ul>
  </nav>
</div>

<%#
 <li>
            <!-- Current: "bg-gray-50", Default: "hover:bg-gray-50" -->
            <a href="#" class="block rounded-md bg-gray-50 py-2 pr-2 pl-10 text-sm/6 font-semibold text-gray-700">Dashboard</a>
          </li>
          <li>
            <button type="button" command="--toggle" commandfor="sub-menu-2" class="flex w-full items-center gap-x-3 rounded-md p-2 text-left text-sm/6 font-semibold text-gray-700 hover:bg-gray-50">
              <svg viewBox="0 0 20 20" fill="currentColor" data-slot="icon" aria-hidden="true" class="size-5 shrink-0 not-in-aria-expanded:text-gray-400 in-aria-expanded:rotate-90 in-aria-expanded:text-gray-500">
                <path d="M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" fill-rule="evenodd" />
              </svg>
              Projects
            </button>
            <el-disclosure id="sub-menu-2" hidden class="contents">
              <ul class="mt-1 px-2">
                <li>
                  <a href="#" class="block rounded-md py-2 pr-2 pl-9 text-sm/6 text-gray-700 hover:bg-gray-50">GraphQL API</a>
                </li>
                <li>
                  <a href="#" class="block rounded-md py-2 pr-2 pl-9 text-sm/6 text-gray-700 hover:bg-gray-50">iOS App</a>
                </li>
                <li>
                  <a href="#" class="block rounded-md py-2 pr-2 pl-9 text-sm/6 text-gray-700 hover:bg-gray-50">Android App</a>
                </li>
                <li>
                  <a href="#" class="block rounded-md py-2 pr-2 pl-9 text-sm/6 text-gray-700 hover:bg-gray-50">New Customer Portal</a>
                </li>
              </ul>
            </el-disclosure>
          </li> %>
