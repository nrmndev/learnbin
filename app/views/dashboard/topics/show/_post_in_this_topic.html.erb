<div class="mt-3 p-5 rounded-xl shadow bg-white">
  <h3 class="heading-underlined">Posts in this Topic</h3>
  <ul role="list" class="mt-3 grid gap-5">
    <% @posts_for_sidebar.order(:position).includes(:post).each do |ct| %>
      <li class="flex rounded-md shadow-xs border border-gray-200 bg-neutral-50">
        <div class="flex w-full items-center p-2">
            <%= link_to ct.post.title, dashboard_post_path(ct.post), class: "font-semibold text-sm text-gray-700 grow" %>
            <% if ct.position.present? && ct.position > 1 %>
              <%= button_to move_up_dashboard_topic_topic_post_path(@topic, ct), method: :patch ,class: "p-2 bg-white shadow rounded-full" do %>
                  <%= phosphor_icon "arrow-up", class: "h-5 w-5 text-blue-500" %>
              <% end %>
            <% end %>
            <% max = @topic.topic_posts.maximum(:position) %>
            <% if ct.position.present? && ct.position < max %>
              <%= button_to move_down_dashboard_topic_topic_post_path(@topic, ct), method: :patch,  class: "p-2 bg-white shadow rounded-full" do %>
                  <%= phosphor_icon "arrow-down", class: "h-5 w-5 text-blue-500" %>
              <% end %>
            <% end %>
        </div>
      </li>
    <% end %>
  </ul>

  <p class="text-xs text-gray-600 mt-3">To include/exclude a post, go to (posts/:id) edit page.</p>
</div>
